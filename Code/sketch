let displayWaves;
function preload() {
  //Sound effects
  titleScreen = loadSound("Music/Title Screen.mp3");
  fruitSlice = loadSound("Music/Fruit Slice.mp3");
  bombSlice = loadSound("Music/Bomb Slice.mp3");
  //images
  backdropMain = loadImage("Assets/backdropMain.png");
  explosion = loadImage("Assets/explosion.png");
  bombImg = loadImage("Assets/bomb.png");
  apple = loadImage("Assets/apple.png");
  banana = loadImage("Assets/banana.png");
  coconut = loadImage("Assets/coconut.png");
  pineapple = loadImage("Assets/pineapple.png");
  watermelon = loadImage("Assets/watermelon.png");
  orange = loadImage("Assets/orange.png");
  orangeSplat = loadImage("Assets/orangeSplat.png");
  redSplat = loadImage("Assets/redSplat.png");
  yellowSplat = loadImage("Assets/yellowSplat.png");
  clearSplat = loadImage("Assets/clearSplat.png");
  appleHalf1 = loadImage("Assets/apple_half_1.png");
  appleHalf2 = loadImage("Assets/apple_half_2.png");
  bananaHalf1 = loadImage("Assets/banana_half_1.png");
  bananaHalf2 = loadImage("Assets/banana_half_2.png");
  orangeHalf1 = loadImage("Assets/orange_half_1.png");
  orangeHalf2 = loadImage("Assets/orange_half_2.png");
  coconutHalf1 = loadImage("Assets/coconut_half_1.png");
  coconutHalf2 = loadImage("Assets/coconut_half_2.png");
  pineappleHalf1 = loadImage("Assets/pineapple_half_1.png");
  pineappleHalf2 = loadImage("Assets/pineapple_half_2.png");
  watermelonHalf1 = loadImage("Assets/watermelon_half_1.png");
  watermelonHalf2 = loadImage("Assets/watermelon_half_1.png");
}
function setup() {
  frameRate(120);
  createCanvas(1000, 700);
  sounds.titleScreen();
}
function startGame() {
  waves();
  spawnBomb();
  spawnFruit();
}
function draw() {
  background(255);
  //Display waves at the start of a wave
  image(backdropMain, 0, 0, width, height, 0, 0, backdropMain.width, backdropMain.height, COVER)
  cutEffects.drawEffects();
  cutEffects.deleteEffect();
  effectInteractable();
  testCollision();
  updateLastPosXYSword();
  interactablesBounce();
  strokeWeight(0);
  //display player stats
  textSize(50);
  //display health
  for (let i = 5; i > 0; i--) {heartColour = i > stats.health ? "üñ§" : "‚ù§Ô∏è"; text(heartColour, 980 - i * 60, 50);}
  //display wave number on wave start, textSize is already set to required amount (ln 53)
  fill(255);
  if (displayWaves) text("Wave " + stats.wave, 430, 330);
  //display score
  textSize(30);
  text("Score: " + stats.score, 0, 30);
  //draw sword
  for(let i = 0; i < 10; i++) {
    stroke('white')
    strokeWeight(5);
    line(placesX[i], placesY[i], placesX[i + 1], placesY[i + 1]);
    placesX[10] = mouseX;
    placesY[10] = mouseY;
    placesX[i] = placesX[i + 1];
    placesY[i] = placesY[i + 1];
  }
}
//temp method to start game
function keyPressed() {
  startGame();
}
